<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="mystyle.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Bungee|Catamaran:100,200,300,400,500" rel="stylesheet">

</head>
<body>

<div class="container">
<div class="group">
	<h1 id="greet">
		<script type="text/javascript">
		var optionsDay = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
		var optionsTime = {hour: 'numeric', minute: 'numeric'};
		function updateDay(){
			var d = new Date();
			var n = d.toLocaleString('en-US', optionsDay);
			document.getElementById("greet").innerHTML = n;
		}	
		setInterval(updateDay, 60000);
			  updateDay();
		</script>
	</h1>
	<h1 id="greetTime">
		<script type="text/javascript">
		function updateTime(){
			var t = new Date();
			var m = t.toLocaleString('en-US', optionsTime);
			document.getElementById("greetTime").innerHTML = m;
		}
		setInterval(updateTime, 100);
		updateTime();
		
		</script>
	</h1>
<div class ="left">
	
		<h2 id="richmond"> Richmond District </h2>
		<div id="grid">
			
			<script type="text/javascript">
			
			jQuery(document).ready(function($) {
				function update(){
			  $.ajax({
			  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/San_Francisco.json",
			  dataType : "jsonp",
			  success: function(pjson) {
			  var feels = pjson['current_observation']['feelslike_f'];
			  var temp_f = pjson['current_observation']['temp_f'];

			  $('#grid').html(feels);
			  	}

			  
			  });
			}
			  setInterval(update, 600000);
			  update();
			});
			
			</script>
			

		</div>
		<table>
			<tr id="area">
				<td>Dolores</th>
				<td id="dolores">
				<script type="text/javascript">
					jQuery(document).ready(function($) {
						function update(){
					  $.ajax({
					  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/San_Francisco/pws:KCASANFR1030.json",
					  dataType : "jsonp",
					  success: function(pjson) {
					  var feels = pjson['current_observation']['feelslike_f'];
					  var temp_f = pjson['current_observation']['temp_f'];
					  $('#dolores').html(feels);
					  	}
					  });
					}
					setInterval(update, 600000);
			  		update();
					
					});
				</script>
				</td>
			</tr>
			<tr>
				<td>North Beach is working</td>
				<td id="nb">
					<script type="text/javascript">
					jQuery(document).ready(function($) {
						function update(){
					  $.ajax({
					  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/San_Francisco/pws:KCASANFR236.json",
					  dataType : "jsonp",
					  success: function(pjson) {
					  var feels = pjson['current_observation']['feelslike_f'];
					  var temp_f = pjson['current_observation']['temp_f'];
					  $('#nb').html(feels);
					  	}
					  
					  });
					  }
					setInterval(update, 600000);
			  		update();
					});
				</script>
				</td>
			</tr>
			<tr>
				<td>Walnut Creek</td>
				<td id="wc">
					<script type="text/javascript">
					jQuery(document).ready(function($) {
						function update(){
					  $.ajax({
					  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/Walnut_Creek/pws:KCAWALNU63.json",
					  dataType : "jsonp",
					  success: function(pjson) {
					  var feels = pjson['current_observation']['feelslike_f'];
					  var temp_f = pjson['current_observation']['temp_f'];
					  $('#wc').html(feels);
					  	}
					  });
					  }
					setInterval(update, 600000);
			  		update();
					});
				</script>
				</td>
			</tr>
	</table>

		
	
</div>
<div id="right" class ="right">

	<tr>
		<td>Bus</td>
		<td id ="bus">
	
			<script type="text/javascript">
					
					  $.ajax({
					  url : "http://webservices.nextbus.com/service/publicXMLFeed?command=predictions&a=sf-muni&r=1&s=3840",
					  dataType : "xml",
					  success: function(data) {
					  	//console.log(data);
					  	var xmlDoc = data.responseXML;
					  	var x = xmlDoc.getElementsByTagName('prediction')[0];
					  	var txt = x.getAttribute('minutes');
					  	console.log(txt);
					  	//var txt = x.getAttribute('minutes');
					  	
					  	/*
					  	var xmlDoc = xml.responseXML;
					  	var x = xmlDoc.getElementsByTagName('prediction')[0];
					  	var txt = x.getAttribute('minutes');
					  	var bodyNode = xmlDoc.documentElement;
					  	var predictionsNode = bodyNode.firstChild;
					  	var directionNode = predictionsNode.firstChild;
					  	var predictionNode = directionNode.firstChild;
						*/
					  	//var predict = $(xml).find('minutes').text();
					  	//document.getElementById("bus").innerHTML = txt;
					  	}
					  });

					
		

	/*
	function loadDoc() {
  		var xhttp = new XMLHttpRequest();
  		xhttp.onreadystatechange = function() {
    		if (this.readyState == 4 && this.status == 200) {
      			document.getElementById("demo").innerHTML =
      			this.responseText;
    		}
  		};
  	xhttp.open("GET", "http://webservices.nextbus.com/service/publicXMLFeed?command=schedule&a=sf-muni&stopId=&r=1&s=3840", true);
  	xhttp.send();
	}
	*/

/*
	function loadDoc() {
  		var xhttp = new XMLHttpRequest();
  		xhttp.onreadystatechange = function() {
    	if (this.readyState == 4 && this.status == 200) {
    	myFunction(this);
    	}
  	};
  	xhttp.open("GET", "http://webservices.nextbus.com/service/publicXMLFeed?command=predictions&a=sf-muni&r=1&s=3840", true);
  	xhttp.send();
	}
	function myFunction(xml) {
  		var i;
  		var xmlDoc = xml.responseXML;
  		var predict="<tr><th>Bus</th><th>Minutes</th></tr>";
  		var x = xmlDoc.getElementsByTagName("direction");
  		for (i = 0; i <x.length; i++) { 
    		predict += "<tr><td>" +
    		x[i].getElementsByTagName("VEHICLE")[0].childNodes[0].nodeValue +
    		"</td><td>" +
    		x[i].getElementsByTagName("MINUTES")[0].childNodes[0].nodeValue +
    		"</td></tr>";
    	
  	}
  	document.getElementById("right").innerHTML = predict;
	}
*/
	//Twitter feed	
	/*
	<a class="twitter-timeline" data-lang="en" data-width="300" data-height="500" data-theme="dark" data-link-color="#2B7BB9" href="https://twitter.com/BreakingNews">Tweets by BreakingNews</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8">
	*/
		</script>
	</td>
	</tr>
	
	
	
</div>
</div>
</div>
</body>
</html>