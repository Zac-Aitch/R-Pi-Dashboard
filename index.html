<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="mystyle.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Bungee|Catamaran:100,200,300,400,500" rel="stylesheet">

</head>
<body>

<div class="container">
<div class="group">
	<h1 id="greet">
		<script type="text/javascript">
		var optionsDay = {weekday: 'long', month: 'long', day: 'numeric' };
		var optionsTime = {hour: 'numeric', minute: 'numeric'};
		function updateDay(){
			var d = new Date();
			var n = d.toLocaleString('en-US', optionsDay);
			document.getElementById("greet").innerHTML = n;
		}	
		setInterval(updateDay, 60000);
			  updateDay();
		</script>
	</h1>
	<h1 id="greetTime">
		<script type="text/javascript">
		function updateTime(){
			var t = new Date();
			var m = t.toLocaleString('en-US', optionsTime);
			document.getElementById("greetTime").innerHTML = m;
		}
		setInterval(updateTime, 100);
		updateTime();
		
		</script>
	</h1>
<div class ="left">
	
		<h2 id="richmond"> Richmond District </h2>
		<div id="grid">
			
			<script type="text/javascript">
			
			jQuery(document).ready(function($) {
				function update(){
			  $.ajax({
			  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/San_Francisco.json",
			  dataType : "jsonp",
			  success: function(pjson) {
			  var feels = pjson['current_observation']['feelslike_f'];
			  var weather = pjson['current_observation']['weather'];

			  $('#grid').html(feels + "\n" + weather);
			  	} 
			  });
			}
			  setInterval(update, 600000);
			  update();
			});
			
			</script>
			

		</div>
		<table>
			<tr id="area">
				<td>Dolores</th>
				<td id="dolores">

				<script type="text/javascript">
				/*
					jQuery(document).ready(function($) {
						function update(){
					  $.ajax({
					  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/San_Francisco/pws:KCASANFR1030.json",
					  dataType : "jsonp",
					  success: function(pjson) {
					  var feels = pjson['current_observation']['feelslike_f'];
					  var temp_f = pjson['current_observation']['temp_f'];
					  $('#dolores').html(feels);
					  	}
					  });
					}
					setInterval(update, 600000);
			  		update();
					
					});
				</script>
				</td>
			</tr>
			<tr>
				<td>North Beach is working</td>
				<td id="nb">
					<script type="text/javascript">
					/*
					jQuery(document).ready(function($) {
						function update(){
					  $.ajax({
					  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/San_Francisco/pws:KCASANFR236.json",
					  dataType : "jsonp",
					  success: function(pjson) {
					  var feels = pjson['current_observation']['feelslike_f'];
					  var temp_f = pjson['current_observation']['temp_f'];
					  $('#nb').html(feels);
					  	}
					  
					  });
					  }
					setInterval(update, 600000);
			  		update();
					});
				</script>
				</td>
			</tr>
			<tr>
				<td>Walnut Creek</td>
				<td id="wc">
					<script type="text/javascript">
					/*
					jQuery(document).ready(function($) {
						function update(){
					  $.ajax({
					  url : "http://api.wunderground.com/api/e9fecf1aaf8a4e54/conditions/q/CA/Walnut_Creek/pws:KCAWALNU63.json",
					  dataType : "jsonp",
					  success: function(pjson) {
					  var feels = pjson['current_observation']['feelslike_f'];
					  var temp_f = pjson['current_observation']['temp_f'];
					  $('#wc').html(feels);
					  	}
					  });
					  }
					setInterval(update, 600000);
			  		update();
					});
				</script>
				</td>
			</tr>
	</table>

		
	
</div>
<div id="right" class ="right">
<h1 id="nextBus">Next Bus:</h2>
<h1 id="time"></h2>
	
	
			<script type="text/javascript">
					jQuery(document).ready(function($) {
					function update(){
					  $.ajax({
					  url : "http://webservices.nextbus.com/service/publicXMLFeed?command=predictions&a=sf-muni&r=1&s=3840",
					  dataType : "xml",
					  success: function(data) {
					  	//console.log(data);
					  	//var xmlDoc = data.responseXML;
					  	var x = data.getElementsByTagName("prediction")[0];
					  	var txt = x.getAttribute("minutes");
					  	console.log(txt);
					  	document.getElementById("time").innerHTML = txt + " minutes";
					  	//var txt = x.getAttribute('minutes');
					  	
					  	/*
					  	var xmlDoc = xml.responseXML;
					  	var x = xmlDoc.getElementsByTagName('prediction')[0];
					  	var txt = x.getAttribute('minutes');
					  	var bodyNode = xmlDoc.documentElement;
					  	var predictionsNode = bodyNode.firstChild;
					  	var directionNode = predictionsNode.firstChild;
					  	var predictionNode = directionNode.firstChild;
						*/
					  	//var predict = $(xml).find('minutes').text();
					  	//document.getElementById("bus").innerHTML = txt;
					  	}
					  });
					  	}
					  	setInterval(update, 3000);
			  			update();
					  });

		</script>
	
	
	
	
</div>
</div>
</div>
</body>
</html>